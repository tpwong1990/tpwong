{% extends "layout.html" %}

{% block title %}
    Summary.html
{% endblock %}

{% block main %}
<table class="table">
    <thread>
        <th>
            <select class="form-select mx-auto w-auto" id="month" name="month" onchange="select_save_auto_sumbit('month_key', this.value)">
                <option value="No" disabled>Month</option>
                {% for mon in d_months %}
                    <option value = {{ mon[0] }} >{{ mon[0] }}</option>
                {% endfor %}
            </select>
        </th>
        <th>
            <select class="form-select mx-auto w-auto" id="month" name="month" onchange="select_save_auto_sumbit('month_key', this.value)">
                <option value="No" disabled>Year</option>
                {% for yr in d_years %}
                    <option value = {{ yr[0] }} >{{ yr[0] }}</option>
                {% endfor %}
            </select>
        </th>
        <th>Name</th>
        <th>Paid total expenses</th>
        <th>Average expenses per person</th>
        <th>Debits/Credits</th>
    </thread>
    <tbody>
        {% for row in total_exp %}
            <tr>
                <td></td>
                <td></td>
                <td>{{row[0]["name"]}}</td>
                <td>{{row[0]["total"]}}</td>
                <td>{{row[0]["average"]}}</td>
                <td>{{row[0]["c/d"]}}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% with messages = get_flashed_messages() %}
{% if messages %}
        {% for message in messages %}
            <script>window.alert({{ message|tojson }} );</script>
        {% endfor %}
{% endif %}
{% endwith %}

{% endblock %}